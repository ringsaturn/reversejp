# ReverseJP WASM Interactive Map Example

An interactive web map application that demonstrates reverse geocoding in Japan using the ReverseJP WASM bindings with Protomaps and MapLibre GL JS.

## Features

- ğŸ—ºï¸ **Interactive Map**: Powered by Protomaps and MapLibre GL JS
- ğŸ“ **Click-to-Geocode**: Click anywhere on the map to get location information
- ğŸ¯ **Visual Markers**: Beautiful markers appear at clicked locations
- ğŸ“Š **Information Panel**: Display detailed location data including:
  - Coordinates (latitude/longitude)
  - City and prefecture names
  - Area information
  - Warning zones
  - Landslide risk areas
  - And more geospatial properties

## Tech Stack

- **[Protomaps](https://protomaps.com/)**: Hosted API for open source map tiles and basemaps
- **[MapLibre GL JS](https://maplibre.org/)**: Open source map rendering library
- **ReverseJP WASM**: WebAssembly bindings for Japanese reverse geocoding
- **[Bun](https://bun.sh/)**: Fast JavaScript runtime and dev server

## Installation

To install dependencies:

```bash
bun install
```

## Usage

To run:

```bash
bun run index.ts
```

Or use the npm script:

```bash
bun run dev
```

Then open your browser to:

```
http://localhost:3000
```

## How It Works

1. The application loads a Protomaps basemap of Japan using MapLibre GL JS
2. When you click anywhere on the map:
   - A red marker appears at that location
   - The WASM module performs reverse geocoding for the coordinates
   - An information panel slides in showing all available location data
3. Click the Ã— button to close the information panel

## Architecture

```
â”œâ”€â”€ index.ts          # Bun dev server (builds and serves the app)
â”œâ”€â”€ src/
â”‚   â””â”€â”€ app.ts        # TypeScript application (map + geocoding logic)
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html    # Main HTML page
â”‚   â”œâ”€â”€ styles.css    # Styling and animations
â”‚   â””â”€â”€ app.js        # Compiled JavaScript (generated by Bun)
â”œâ”€â”€ package.json      # Dependencies
â””â”€â”€ tsconfig.json     # TypeScript configuration
```

The project uses TypeScript throughout:
- `src/app.ts` contains the main application logic written in TypeScript
- `index.ts` is a Bun server that automatically compiles TypeScript to JavaScript
- When you run `bun run index.ts`, it builds `src/app.ts` â†’ `public/app.js`
- The built JavaScript is then served to the browser

## About Protomaps

This example uses the Protomaps hosted API, which provides:
- Vector map tiles served from a fast CDN
- OpenStreetMap data updated daily
- Multiple map styles and languages
- Simple API key authentication
- Free for non-commercial use

For commercial use or self-hosting options, visit [protomaps.com](https://protomaps.com/).

This project was created using `bun init` in bun v1.2.22. [Bun](https://bun.com) is a fast all-in-one JavaScript runtime.
